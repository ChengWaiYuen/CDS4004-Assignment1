<html>
<head>
    <script>
        function Add() {
            let text = document.getElementById("textarea").value
            let textdata = text.split(",")
            const newspan = document.createElement("span")
            newspan.innerText = textdata[0]+"\n"
            if (textdata[1] == 1){newspan.style.color = "red"}
            else if (textdata[1] == 2){newspan.style.color = "black"}
            else if (textdata[1] == 3){newspan.style.color = "gray"}
            newspan.setAttribute(
                "onclick",
                "if (this.style.textDecoration =='line-through'){this.style.textDecoration ='initial'} else {this.style.textDecoration ='line-through'}")
            newspan.setAttribute("ondblclick","this.remove()")
            document.body.appendChild(newspan)
                 }
        function BatchAdd() {
            let text = document.getElementById("textarea").value;
            let alltextdata = text.split(";");
            for (let i = 0; i < alltextdata.length; i++) {
                let textdata = alltextdata[i].split(",")
                const newspan = document.createElement("span")
                if (i == alltextdata.length-1){newspan.innerText = textdata[0]+"\n"}
                else {newspan.innerText = textdata[0]}
                if (textdata[1] == 1){newspan.style.color = "red"}
                else if (textdata[1] == 2){newspan.style.color = "black"}
                else if (textdata[1] == 3){newspan.style.color = "gray"}
                newspan.setAttribute(
                    "onclick",
                    "if (this.style.textDecoration =='line-through'){this.style.textDecoration ='initial'} else {this.style.textDecoration ='line-through'}")
                newspan.setAttribute("ondblclick","this.remove()")
                document.body.appendChild(newspan)
            }}
        
        function ToggleCompleteTask() {
            document.querySelectorAll("[style =='text-decoration: line-through']").style.display = 'block'
        }
            

    </script>
        
</head>
<body>
    
    <textarea id="textarea" name="taskdata" rows="4" cols="50">
    </textarea>
    <br/>
    <button id="Add" type="button" onclick="Add()">Add</button>
    <button id="BatchAdd" type="button" onclick="BatchAdd()">Batch Add</button>
    <button id="ToggleCompleteTask" type="button" onclick="ToggleCompleteTask()">Toggle Complete Task</button>
    <br/>
    <br/>      

</body>
</html>
